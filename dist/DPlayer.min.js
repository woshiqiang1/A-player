"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}();!function(){var e=function(){function e(t){var i=this;_classCallCheck(this,e),this.svg={play:["0 0 16 32","M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"],pause:["0 0 17 32","M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z"],"volume-up":["0 0 30 32","M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528zM25.152 16q0 2.72-1.536 5.056t-4 3.36q-0.256 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.704 0.672-1.056 1.024-0.512 1.376-0.8 1.312-0.96 2.048-2.4t0.736-3.104-0.736-3.104-2.048-2.4q-0.352-0.288-1.376-0.8-0.672-0.352-0.672-1.056 0-0.448 0.32-0.8t0.8-0.352q0.224 0 0.48 0.096 2.496 1.056 4 3.36t1.536 5.056zM29.728 16q0 4.096-2.272 7.552t-6.048 5.056q-0.224 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.64 0.704-1.056 0.128-0.064 0.384-0.192t0.416-0.192q0.8-0.448 1.44-0.896 2.208-1.632 3.456-4.064t1.216-5.152-1.216-5.152-3.456-4.064q-0.64-0.448-1.44-0.896-0.128-0.096-0.416-0.192t-0.384-0.192q-0.704-0.416-0.704-1.056 0-0.448 0.32-0.8t0.832-0.352q0.224 0 0.448 0.096 3.776 1.632 6.048 5.056t2.272 7.552z"],"volume-down":["0 0 21 32","M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528z"],"volume-off":["0 0 14 32","M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8z"],loop:["0 0 32 32","M1.882 16.941c0 4.152 3.221 7.529 7.177 7.529v1.882c-4.996 0-9.060-4.222-9.060-9.412s4.064-9.412 9.060-9.412h7.96l-3.098-3.098 1.331-1.331 5.372 5.37-5.37 5.372-1.333-1.333 3.1-3.098h-7.962c-3.957 0-7.177 3.377-7.177 7.529zM22.94 7.529v1.882c3.957 0 7.177 3.377 7.177 7.529s-3.221 7.529-7.177 7.529h-7.962l3.098-3.098-1.331-1.331-5.37 5.37 5.372 5.372 1.331-1.331-3.1-3.1h7.96c4.998 0 9.062-4.222 9.062-9.412s-4.064-9.412-9.060-9.412z"],full:["0 0 32 32","M6.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v4h4c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333zM30.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h4v-4c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM30.667 12c-0.8 0-1.333-0.533-1.333-1.333v-4h-4c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM1.333 12c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333h-4v4c0 0.8-0.533 1.333-1.333 1.333z"]},this.isMobile=navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(android)|(webOS)/i),this.isMobile&&(t.autoplay=!1);var a={element:document.getElementsByClassName("dplayer")[0],autoplay:!1,theme:"#b7daff"};for(var n in a)a.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=a[n]);this.option=t,this.audios=[],this.loop=!0,this.secondToTime=function(e){var t=function(e){return e<10?"0"+e:""+e},i=parseInt(e/60),a=parseInt(e-60*i);return t(i)+":"+t(a)},this.updateBar=function(e,t,a){t=t>0?t:0,t=t<1?t:1,i[e+"Bar"].style[a]=100*t+"%"},this.eventTypes=["play","pause","canplay","playing","ended","error"],this.event={};var o=!0,s=!1,l=void 0;try{for(var r,d=this.eventTypes[Symbol.iterator]();!(o=(r=d.next()).done);o=!0){var u=r.value;this.event[u]=[]}}catch(h){s=!0,l=h}finally{try{!o&&d["return"]&&d["return"]()}finally{if(s)throw l}}this.trigger=function(e){var t=!0,a=!1,n=void 0;try{for(var o,s=i.event[e][Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var l=o.value;l()}}catch(r){a=!0,n=r}finally{try{!t&&s["return"]&&s["return"]()}finally{if(a)throw n}}}}return _createClass(e,[{key:"init",value:function(){var e=this;this.element=this.option.element,this.playedBar=this.element.getElementsByClassName("dplayer-played")[0],this.loadedBar=this.element.getElementsByClassName("dplayer-loaded")[0],this.thumb=this.element.getElementsByClassName("dplayer-thumb")[0],this.bar=this.element.getElementsByClassName("dplayer-bar")[0];var t=void 0;this.bar.addEventListener("click",function(i){var a=i||window.event;t=e.bar.clientWidth;var n=(a.clientX-getElementViewLeft(e.bar))/t;e.updateBar("played",n,"width"),e.element.getElementsByClassName("dplayer-ptime")[0].innerHTML=e.secondToTime(n*e.audio.duration),e.audio.currentTime=parseFloat(e.playedBar.style.width)/100*e.audio.duration}),this.thumb.addEventListener("mouseover",function(){e.thumb.style.background=e.option.theme}),this.thumb.addEventListener("mouseout",function(){e.thumb.style.background="#fff"});var i=function(i){var a=i||window.event,n=(a.clientX-getElementViewLeft(e.bar))/t;n=n>0?n:0,n=n<1?n:1,e.updateBar("played",n,"width"),e.option.showlrc&&e.updateLrc(parseFloat(e.playedBar.style.width)/100*e.audio.duration),e.element.getElementsByClassName("dplayer-ptime")[0].innerHTML=e.secondToTime(n*e.audio.duration)},a=function o(){document.removeEventListener("mouseup",o),document.removeEventListener("mousemove",i),e.audio.currentTime=parseFloat(e.playedBar.style.width)/100*e.audio.duration,e.play()};this.thumb.addEventListener("mousedown",function(){t=e.bar.clientWidth,clearInterval(e.playedTime),document.addEventListener("mousemove",i),document.addEventListener("mouseup",a)});var n=this.element.getElementsByClassName("dplayer-looploop")[0];n.addEventListener("click",function(){e.loop?(n.classList.add("dplayer-noloop"),e.loop=!1,e.audio.loop=!e.multiple&&e.loop):(n.classList.remove("dplayer-noloop"),e.loop=!0,e.audio.loop=!e.multiple&&e.loop)}),this.audio=this.element.getElementsByClassName("dplayer-video")[0],this.audio.addEventListener("durationchange",function(){1!==e.audio.duration&&(e.element.getElementsByClassName("dplayer-dtime")[0].innerHTML=e.secondToTime(e.audio.duration))}),this.audio.addEventListener("progress",function(){var t=e.audio.buffered.length?e.audio.buffered.end(e.audio.buffered.length-1)/e.audio.duration:0;e.updateBar("loaded",t,"width")}),this.audio.addEventListener("error",function(){e.element.getElementsByClassName("dplayer-author")[0].innerHTML=" - Error happens ╥﹏╥",e.trigger("pause")}),this.audio.addEventListener("canplay",function(){e.trigger("canplay")}),this.ended=!1,this.audio.addEventListener("ended",function(){e.loop||(e.ended=!0,e.pause(),e.trigger("ended"))}),this.audio.volume=parseInt(this.element.getElementsByClassName("dplayer-volume")[0].style.height)/100,this.audio.loop=!this.multiple&&this.loop,this.multiple&&(this.audios[indexMusic]=this.audio),1!==this.audio.duration&&(this.element.getElementsByClassName("dplayer-dtime")[0].innerHTML=this.audio.duration?this.secondToTime(this.audio.duration):"00:00"),this.option.autoplay&&!this.isMobile&&this.play(),this.option.autoplay=!0,this.isMobile&&this.pause()}},{key:"play",value:function(){var e=this;this.audio.paused&&(this.button.classList.remove("dplayer-play"),this.button.classList.add("dplayer-pause"),this.button.innerHTML="",setTimeout(function(){e.button.innerHTML='<i class="demo-icon dplayer-icon-pause"></i>'},100),this.audio.play(),this.playedTime&&clearInterval(this.playedTime),this.playedTime=setInterval(function(){e.updateBar("played",e.audio.currentTime/e.audio.duration,"width"),e.option.showlrc&&e.updateLrc(),e.element.getElementsByClassName("dplayer-ptime")[0].innerHTML=e.secondToTime(e.audio.currentTime),e.trigger("playing")},100),this.trigger("play"))}},{key:"pause",value:function(){var e=this;this.audio.paused&&!this.ended||(this.ended=!1,this.button.classList.remove("dplayer-pause"),this.button.classList.add("dplayer-play"),this.button.innerHTML="",setTimeout(function(){e.button.innerHTML='<i class="demo-icon dplayer-icon-play"></i>'},100),this.audio.pause(),clearInterval(this.playedTime),this.trigger("pause"))}},{key:"on",value:function(e,t){"function"==typeof t&&this.event[e].push(t)}}]),e}();"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=e:window.DPlayer=e}();
//# sourceMappingURL=DPlayer.min.js.map
